<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Zavi Shop — Demo (HTML/CSS/JS)</title>
  <meta name="description" content="Advanced demo shopping site built with HTML/CSS/JS. Cart uses localStorage. Responsive." />
  <style>
    :root{
      --accent:#2563eb; /* blue */
      --bg:#f6f7fb;
      --card:#ffffff;
      --muted:#6b7280;
      --radius:12px;
      --shadow: 0 6px 18px rgba(13,17,30,0.07);
      --max-width:1100px;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:#0b1220;display:flex;justify-content:center;padding:28px}
    .app{width:100%;max-width:var(--max-width)}

    /* Header */
    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:22px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{height:46px;width:46px;background:linear-gradient(135deg,var(--accent),#7c3aed);border-radius:10px;display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
    h1{margin:0;font-size:18px}
    .controls{display:flex;gap:12px;align-items:center}
    .search{display:flex;align-items:center;background:white;padding:8px;border-radius:10px;box-shadow:var(--shadow)}
    .search input{border:0;outline:0;width:220px;padding:6px}
    .cart-btn{background:var(--card);padding:8px 12px;border-radius:10px;box-shadow:var(--shadow);cursor:pointer;border:0}

    /* Layout */
    .main{display:grid;grid-template-columns:260px 1fr;gap:18px}

    /* Sidebar */
    aside{background:var(--card);padding:16px;border-radius:var(--radius);box-shadow:var(--shadow);height:fit-content}
    .filter-section{margin-bottom:12px}
    .filter-section h3{margin:0 0 8px 0;font-size:13px}
    .categories button{display:block;width:100%;text-align:left;padding:8px;border-radius:8px;border:0;background:#f3f4f6;cursor:pointer;margin-bottom:6px}

    /* Products */
    .toolbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .card{background:var(--card);padding:12px;border-radius:12px;box-shadow:var(--shadow);display:flex;flex-direction:column}
    .thumb{height:180px;border-radius:10px;background:#eef2ff;display:flex;align-items:center;justify-content:center;overflow:hidden}
    .thumb img{width:100%;height:100%;object-fit:cover}
    .meta{padding:8px 0;display:flex;justify-content:space-between;align-items:center}
    .title{font-weight:600}
    .price{font-weight:700}
    .actions{display:flex;gap:8px}
    .btn{padding:8px 10px;border-radius:8px;border:0;cursor:pointer}
    .btn-primary{background:var(--accent);color:white}
    .btn-ghost{background:#f3f4f6}

    /* Cart drawer */
    .drawer{position:fixed;right:18px;top:80px;width:360px;background:var(--card);border-radius:12px;box-shadow:0 18px 50px rgba(2,6,23,0.18);padding:12px;max-height:70vh;overflow:auto}
    .cart-item{display:flex;gap:8px;align-items:center;border-bottom:1px solid #eef2ff;padding:8px 0}
    .cart-item img{width:56px;height:56px;object-fit:cover;border-radius:8px}
    .qty{display:flex;gap:6px;align-items:center}

    /* Empty state */
    .empty{padding:28px;text-align:center;color:var(--muted)}

    footer{margin-top:20px;text-align:center;color:var(--muted);font-size:13px}

    /* Responsive */
    @media (max-width:900px){
      .main{grid-template-columns:1fr}
      .grid{grid-template-columns:repeat(2,1fr)}
      .search input{width:140px}
      .drawer{position:static;width:auto;max-height:none;margin-top:12px}
    }
    @media (max-width:560px){.grid{grid-template-columns:1fr}.search input{display:none}}

    /* small utilities */
    .pill{background:#eef2ff;padding:6px 8px;border-radius:999px;font-weight:600}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="brand">
        <div class="logo">ZS</div>
        <div>
          <h1>Zavi Shop</h1>
          <div style="font-size:12px;color:var(--muted)">Demo shopping site — HTML/CSS/JS</div>
        </div>
      </div>
      <div class="controls">
        <div class="search">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.35-4.35" stroke="#9ca3af" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/><circle cx="11" cy="11" r="6" stroke="#9ca3af" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <input id="search" placeholder="Search products..." />
        </div>
        <button class="cart-btn" id="open-cart">Cart (<span id="cart-count">0</span>)</button>
      </div>
    </header>

    <main class="main">
      <aside>
        <div class="filter-section">
          <h3>Categories</h3>
          <div class="categories" id="categories"></div>
        </div>
        <div class="filter-section">
          <h3>Price</h3>
          <div style="display:flex;gap:8px">
            <input id="min-price" placeholder="Min" style="flex:1;padding:8px;border-radius:8px;border:1px solid #e6e9ef" />
            <input id="max-price" placeholder="Max" style="flex:1;padding:8px;border-radius:8px;border:1px solid #e6e9ef" />
          </div>
          <div style="margin-top:8px;text-align:right"><button class="btn btn-ghost" id="apply-price">Apply</button></div>
        </div>
        <div class="filter-section">
          <h3>Sort</h3>
          <select id="sort" style="width:100%;padding:8px;border-radius:8px;border:1px solid #e6e9ef">
            <option value="default">Recommended</option>
            <option value="low">Price: Low → High</option>
            <option value="high">Price: High → Low</option>
          </select>
        </div>
      </aside>

      <section>
        <div class="toolbar">
          <div><span class="pill" id="shown-count">0</span> products shown</div>
          <div style="color:var(--muted);font-size:13px">Free demo — payments not enabled</div>
        </div>

        <div class="grid" id="product-grid">
          <!-- products injected here -->
        </div>

        <div id="no-results" class="empty" style="display:none">No products match your filters.</div>

        <footer>&copy; Zavi Shop — demo. Built with HTML/CSS/JS.</footer>
      </section>
    </main>

    <!-- Cart Drawer -->
    <div id="cart-drawer" class="drawer" style="display:none">
      <h3 style="margin-top:0">Your Cart</h3>
      <div id="cart-list"></div>
      <div id="cart-empty" class="empty" style="display:none">Your cart is empty. Add products to get started.</div>
      <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center">
        <div><strong>Total:</strong> <span id="cart-total">₹0</span></div>
        <div style="display:flex;gap:8px">
          <button class="btn btn-ghost" id="clear-cart">Clear</button>
          <button class="btn btn-primary" id="checkout">Checkout</button>
        </div>
      </div>
    </div>

  </div>

  <script>
    /* ---------------------- Sample product data ---------------------- */
    const PRODUCTS = [
      {id:1,title:'Wireless Headphones',price:1599,category:'Electronics',img:'https://via.placeholder.com/400x300?text=Headphones',rating:4.5},
      {id:2,title:'Classic Watch',price:2499,category:'Accessories',img:'https://via.placeholder.com/400x300?text=Watch',rating:4.2},
      {id:3,title:'Running Shoes',price:3499,category:'Footwear',img:'https://via.placeholder.com/400x300?text=Shoes',rating:4.6},
      {id:4,title:'Sunglasses',price:999,category:'Accessories',img:'https://via.placeholder.com/400x300?text=Sunglasses',rating:4.1},
      {id:5,title:'Smartphone',price:17999,category:'Electronics',img:'https://via.placeholder.com/400x300?text=Phone',rating:4.7},
      {id:6,title:'Backpack',price:1299,category:'Bags',img:'https://via.placeholder.com/400x300?text=Backpack',rating:4.3},
      {id:7,title:'Leather Belt',price:699,category:'Accessories',img:'https://via.placeholder.com/400x300?text=Belt',rating:4.0},
      {id:8,title:'Coffee Maker',price:3999,category:'Home',img:'https://via.placeholder.com/400x300?text=Coffee+Maker',rating:4.4},
      {id:9,title:'Gaming Mouse',price:2199,category:'Electronics',img:'https://via.placeholder.com/400x300?text=Mouse',rating:4.5}
    ];

    /* ---------------------- Utilities / state ---------------------- */
    let state = {
      products: [...PRODUCTS],
      filters: {category: null, search: '', minPrice: null, maxPrice: null, sort: 'default'},
      cart: JSON.parse(localStorage.getItem('zs_cart')||'{}')
    };

    /* ---------------------- DOM refs ---------------------- */
    const productGrid = document.getElementById('product-grid');
    const shownCount = document.getElementById('shown-count');
    const cartCount = document.getElementById('cart-count');
    const openCartBtn = document.getElementById('open-cart');
    const cartDrawer = document.getElementById('cart-drawer');
    const cartList = document.getElementById('cart-list');
    const cartEmpty = document.getElementById('cart-empty');
    const cartTotal = document.getElementById('cart-total');
    const categoriesWrap = document.getElementById('categories');

    /* ---------------------- Init ---------------------- */
    function init(){
      renderCategories();
      bindControls();
      applyFiltersAndRender();
      updateCartUI();
    }

    /* ---------------------- Render categories ---------------------- */
    function renderCategories(){
      const cats = ['All',...new Set(PRODUCTS.map(p=>p.category))];
      categoriesWrap.innerHTML = '';
      cats.forEach(c=>{
        const btn = document.createElement('button');
        btn.textContent = c;
        btn.addEventListener('click',()=>{
          state.filters.category = c==='All'?null:c;
          applyFiltersAndRender();
        });
        categoriesWrap.appendChild(btn);
      });
    }

    /* ---------------------- Filters, search, sort ---------------------- */
    function bindControls(){
      document.getElementById('search').addEventListener('input',e=>{
        state.filters.search = e.target.value.trim().toLowerCase();
        debouncedFilter();
      });
      document.getElementById('apply-price').addEventListener('click',()=>{
        const min = Number(document.getElementById('min-price').value)||null;
        const max = Number(document.getElementById('max-price').value)||null;
        state.filters.minPrice = min; state.filters.maxPrice = max; applyFiltersAndRender();
      });
      document.getElementById('sort').addEventListener('change',e=>{state.filters.sort=e.target.value;applyFiltersAndRender();});
      document.getElementById('clear-cart').addEventListener('click',()=>{if(confirm('Clear cart?')){state.cart={}; saveCart(); updateCartUI();}})
      document.getElementById('checkout').addEventListener('click',()=>{if(Object.keys(state.cart).length===0){alert('Cart is empty');return;} alert('Demo checkout — payments not implemented.\nTotal: '+cartTotal.textContent); state.cart={}; saveCart(); updateCartUI();});
      openCartBtn.addEventListener('click',()=>{cartDrawer.style.display = cartDrawer.style.display==='none'?'block':'none';});
    }

    let debounceTimer;
    function debouncedFilter(){
      clearTimeout(debounceTimer);
      debounceTimer = setTimeout(()=>applyFiltersAndRender(),250);
    }

    function applyFiltersAndRender(){
      let items = [...PRODUCTS];
      const f = state.filters;
      if(f.category) items = items.filter(i=>i.category===f.category);
      if(f.search) items = items.filter(i=> (i.title+i.category).toLowerCase().includes(f.search));
      if(f.minPrice) items = items.filter(i=>i.price>=f.minPrice);
      if(f.maxPrice) items = items.filter(i=>i.price<=f.maxPrice);
      if(f.sort==='low') items.sort((a,b)=>a.price-b.price);
      if(f.sort==='high') items.sort((a,b)=>b.price-a.price);
      state.products = items;
      renderProducts(items);
    }

    /* ---------------------- Render products ---------------------- */
    function renderProducts(items){
      productGrid.innerHTML = '';
      if(items.length===0){document.getElementById('no-results').style.display='block';} else {document.getElementById('no-results').style.display='none';}
      shownCount.textContent = items.length;
      items.forEach(p=>{
        const card = document.createElement('div'); card.className='card';
        card.innerHTML = `
          <div class="thumb"><img src="${p.img}" alt="${p.title}" loading="lazy"/></div>
          <div class="meta">
            <div>
              <div class="title">${p.title}</div>
              <div style="font-size:13px;color:var(--muted)">${p.category} • ⭐ ${p.rating}</div>
            </div>
            <div class="price">₹${p.price}</div>
          </div>
          <div style="margin-top:auto;display:flex;justify-content:space-between;align-items:center">
            <div class="actions">
              <button class="btn btn-primary" data-add="${p.id}">Add</button>
              <button class="btn btn-ghost" data-view="${p.id}">View</button>
            </div>
          </div>
        `;
        productGrid.appendChild(card);
      });

      // attach add/view listeners
      productGrid.querySelectorAll('[data-add]').forEach(btn=>btn.addEventListener('click',e=>{
        const id = Number(e.currentTarget.dataset.add); addToCart(id);
      }));
      productGrid.querySelectorAll('[data-view]').forEach(btn=>btn.addEventListener('click',e=>{
        const id = Number(e.currentTarget.dataset.view); showProductModal(id);
      }));
    }

    /* ---------------------- Product modal (simple) ---------------------- */
    function showProductModal(id){
      const p = PRODUCTS.find(x=>x.id===id);
      if(!p) return;
      const html = `Title: ${p.title}\nCategory: ${p.category}\nPrice: ₹${p.price}\nRating: ${p.rating}`;
      alert(html);
    }

    /* ---------------------- Cart logic ---------------------- */
    function saveCart(){ localStorage.setItem('zs_cart', JSON.stringify(state.cart)); }
    function addToCart(id,qty=1){
      if(state.cart[id]) state.cart[id].qty += qty; else state.cart[id] = {id,qty};
      saveCart(); updateCartUI();
      animateAddToCart();
    }
    function removeFromCart(id){ delete state.cart[id]; saveCart(); updateCartUI(); }
    function setQty(id,qty){ if(qty<=0) removeFromCart(id); else {state.cart[id].qty=qty; saveCart(); updateCartUI();} }

    function updateCartUI(){
      const keys = Object.keys(state.cart);
      cartCount.textContent = keys.reduce((s,k)=>s+state.cart[k].qty,0);
      // render list
      cartList.innerHTML = '';
      if(keys.length===0){cartEmpty.style.display='block'; cartList.style.display='none'; cartTotal.textContent='₹0'; return;} else {cartEmpty.style.display='none'; cartList.style.display='block'}
      let total = 0;
      keys.forEach(k=>{
        const entry = state.cart[k];
        const prod = PRODUCTS.find(p=>p.id===entry.id);
        if(!prod) return;
        const item = document.createElement('div'); item.className='cart-item';
        item.innerHTML = `
          <img src="${prod.img}" alt="${prod.title}" />
          <div style="flex:1">
            <div style="font-weight:600">${prod.title}</div>
            <div style="color:var(--muted);font-size:13px">₹${prod.price} • ${prod.category}</div>
          </div>
          <div style="text-align:right">
            <div class="qty">
              <button class="btn btn-ghost" data-dec="${prod.id}">-</button>
              <div style="min-width:28px;text-align:center">${entry.qty}</div>
              <button class="btn btn-ghost" data-inc="${prod.id}">+</button>
            </div>
            <div style="margin-top:6px">₹${prod.price * entry.qty}</div>
            <div style="margin-top:6px"><button class="btn" data-rm="${prod.id}">Remove</button></div>
          </div>
        `;
        cartList.appendChild(item);
        total += prod.price * entry.qty;
      });
      cartTotal.textContent = '₹' + total;

      // listeners
      cartList.querySelectorAll('[data-inc]').forEach(b=>b.addEventListener('click',e=>{
        const id = Number(e.currentTarget.dataset.inc); setQty(id, state.cart[id].qty + 1);
      }));
      cartList.querySelectorAll('[data-dec]').forEach(b=>b.addEventListener('click',e=>{
        const id = Number(e.currentTarget.dataset.dec); setQty(id, state.cart[id].qty - 1);
      }));
      cartList.querySelectorAll('[data-rm]').forEach(b=>b.addEventListener('click',e=>{
        const id = Number(e.currentTarget.dataset.rm); removeFromCart(id);
      }));
    }

    /* small animated feedback */
    function animateAddToCart(){
      openCartBtn.animate([{transform:'scale(1)'},{transform:'scale(1.08)'},{transform:'scale(1)'}],{duration:220});
    }

    /* ---------------------- Kickoff ---------------------- */
    init();
  </script>
</body>
</html>
